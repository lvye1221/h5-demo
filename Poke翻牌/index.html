<!DOCTYPE html>
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=no">
<title>翻牌</title>
<script src="js/jquery-2.1.4.min.js"></script>
<link href="css/animate2.css" rel="stylesheet" />
<style>
.box {
    width: 355px;
    height: 500px;
    padding-top: 30px;
    padding-bottom: 30px;
    margin-left: auto;
    margin-right: auto;
    position: relative;
}
.list {
    position: absolute;
}
</style>
</head>

<body>
<div id="box" class="box viewport-flip" title="点击翻面">
    <a href="" class="list flip out"><img src="img/puke-k.png" alt="纸牌正面" /></a>
    <a href="" class="list flip"><img src="img/puke-back.png" alt="纸牌背面" /></a>
</div>

<script>
var eleBack = null; 
var eleFront = null;

// 纸牌元素们 
var eleList = $(".list");

// 确定前面与后面元素
var funBackOrFront = function() {
    eleList.each(function() {
        if ($(this).hasClass("out")) {
            eleBack = $(this);
        } else {
            eleFront = $(this);
        }
    });
};
funBackOrFront();


$("#box").bind("click", function() {
    // 切换的顺序如下
    // 1. 当前在前显示的元素翻转90度隐藏, 动画时间225毫秒
    // 2. 结束后，之前显示在后面的元素逆向90度翻转显示在前
    // 3. 完成翻面效果
    eleFront.addClass("out").removeClass("in");
    setTimeout(function() {
        eleBack.addClass("in").removeClass("out");
        // 重新确定正反元素
        funBackOrFront();
    }, 225);
    return false;
});

</script>
</body>
</html>
